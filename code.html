<!DOCTYPE html>
<html lang="en">
<head>
  <script id="aclib" type="text/javascript" src="//acscdn.com/script/aclib.js"></script>

  <meta name="google-adsense-account" content="ca-pub-3428561566908674">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Select Test Codes</title>
  <style>
    body {
      background-color: #fff0f0;
      color: #800000;
      font-family: Arial, sans-serif;
      margin: 20px;
      line-height: 1.6;
    }
    h1, h2, h3 {
      color: #b30000;
      text-align: center;
    }
    h3.chapter-heading {
      grid-column: 1 / -1; /* Span across all columns in the grid */
      margin: 10px 0;
      font-size: 1.2em;
      font-weight: bold;
      text-align: left; /* Align left for better readability */
    }
    #testCodes {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 15px;
      margin: 20px auto;
      padding: 15px;
      max-width: 800px;
      border: 1px solid #ff4d4d;
      border-radius: 8px;
      background: #fafafa;
    }
    #testCodes label {
      display: flex;
      align-items: center;
      cursor: pointer;
      padding: 5px;
    }
    #testCodes input[type="checkbox"] {
      margin-right: 8px;
      transform: scale(1.5); /* Increased checkbox size */
      width: 20px; /* Explicit width */
      height: 20px; /* Explicit height */
    }
    .button-container {
      text-align: center;
      margin-top: 20px;
    }
    button {
      background-color: #ff4d4d;
      border: none;
      color: white;
      padding: 12px 24px;
      font-size: 16px;
      margin: 0 10px;
      cursor: pointer;
      border-radius: 5px;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #ff1a1a;
    }
    button:focus {
      outline: 2px solid #b30000;
      outline-offset: 2px;
    }
    /* Ad slot styles (for visibility during testing) */
    .ad-slot {
      display: none;
      background: #fff;
      margin-bottom: 20px;
      border: 1px solid #ccc;
    }
    .ad-slot.active {
      display: block;
    }
    #container-edeaa5234b144caee3318cf798e427a1 {
      width: 300px;
      height: 250px;
      background: rgba(255, 0, 0, 0.2); /* Red */
      margin: 20px auto;
    }
    #ad-container-1 {
      width: 320px;
      height: 50px;
      background: rgba(0, 255, 0, 0.2); /* Green */
      margin: 20px auto;
    }
    #ad-container-2 {
      width: 468px;
      height: 60px;
      background: rgba(0, 0, 255, 0.2); /* Blue */
      margin: 20px auto;
    }
    #ad-container-3 {
      width: 160px;
      height: 300px;
      background: rgba(255, 165, 0, 0.2); /* Orange */
      margin: 20px auto;
    }
    #ad-container-4 {
      width: 160px;
      height: 600px;
      background: rgba(0, 255, 255, 0.2); /* Cyan */
      margin: 20px auto;
    }
    #ad-container-5 {
      width: 728px;
      height: 90px;
      background: rgba(255, 255, 0, 0.2); /* Yellow */
      margin: 20px auto;
    }
    #ad-container-6 {
      width: 300px;
      height: 250px;
      background: rgba(128, 0, 128, 0.2); /* Purple */
      margin: 20px auto;
    }
    @media (max-width: 600px) {
      #testCodes {
        grid-template-columns: 1fr;
      }
      button {
        width: 100%;
        margin: 10px 0;
      }
      #container-edeaa5234b144caee3318cf798e427a1,
      #ad-container-1,
      #ad-container-2,
      #ad-container-3,
      #ad-container-4,
      #ad-container-5,
      #ad-container-6 {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <h1>Select Test Codes</h1>
  <h2 id="test-codes-label">Available Test Codes:</h2>
  <div id="testCodes" role="group" aria-labelledby="test-codes-label"></div>
  <div class="button-container">
    <button onclick="saveSelectedCodes()" aria-label="Save selected test codes and proceed to test">Save Selected Codes</button>
    <button onclick="clearSelections()" aria-label="Clear all selected test codes">Clear All</button>
  </div>

  <!-- General Ad Containers (refresh every 5 seconds) -->
  <div id="container-edeaa5234b144caee3318cf798e427a1" class="ad-slot active"></div>
  <div id="ad-container-1" class="ad-slot active"></div>
  <div id="ad-container-2" class="ad-slot active"></div>
  <div id="ad-container-3" class="ad-slot active"></div>
  <div id="ad-container-4" class="ad-slot active"></div>
  <div id="ad-container-5" class="ad-slot active"></div>
  <div id="ad-container-6" class="ad-slot active"></div>

  <script>
    const testGroups = [
      // Biology (Class 11 and Class 12)
      { 
        heading: "Class 11 Chapter 1: Animal Kingdom", 
        codes: ["900", "911"] 
      },
      { 
        heading: "Class 11 Chapter 3: Diversity in Living Organisms", 
        codes: ["902", "912"] 
      },
      { 
        heading: "Class 11 Chapter 4: Classification and Characteristics", 
        codes: ["903", "913"] 
      },
      { 
        heading: "Class 11 Chapter 5: Morphology of Flowering Plants", 
        codes: ["Set_3", "Set_4", "Set_5", "Set_8", "Set_9"] 
      },
      { 
        heading: "Class 11 Chapter 5: Lower Invertebrates and Systems", 
        codes: ["904", "914"] 
      },
      { 
        heading: "Class 11 Chapter 6: Additional Invertebrate Characteristics", 
        codes: ["905", "915"] 
      },
      { 
        heading: "Class 11 Chapter 7: Structural Organisation in Animals", 
        codes: ["246", "247", "248", "249", "901", "912"] 
      },
      { 
        heading: "Class 11 Chapter 7: Excretion and Osmoregulation", 
        codes: ["906", "916"] 
      },
      { 
        heading: "Class 11 Chapter 8: Reproduction in Animals", 
        codes: ["907", "917"] 
      },
      { 
        heading: "Class 11 Chapter 9: Nervous System and Coordination", 
        codes: ["908", "918"] 
      },
      { 
        heading: "Class 11 Chapter 10: Miscellaneous Biological Processes", 
        codes: ["910", "919"] 
      },
      { 
        heading: "Class 11 Chapter 18: Body Fluids and Circulation", 
        codes: ["Set_1", "Set_2", "Set_3", "Set_5", "Set_6", "Set_7", "Set_8", "Set_9", "Set_10"] 
      },
      { 
        heading: "Class 11 Chapter 19: Excretory Products and Their Elimination", 
        codes: ["Set_16", "Set_17", "Set_19", "Set_20"] 
      },
      { 
        heading: "Class 11 Chapter 20: Locomotion and Movement", 
        codes: ["Set_11", "Set_12", "Set_13", "Set_14", "Set_15", "Set_18", "Set_19", "Set_21", "Set_22"] 
      },
      { 
        heading: "Class 11 Chapter 21: Neural Control and Coordination", 
        codes: ["Set_11", "Set_12", "Set_13", "Set_14", "Set_15", "Set_16", "Set_18", "Set_19"] 
      },
      { 
        heading: "Class 12 Chapter 11: Biotechnology: Principles and Processes", 
        codes: ["Set_3", "Set_4", "Set_5", "Set_7", "Set_8", "Set_9", "Set_10"] 
      },

      // Chemistry (Class 11 and Class 12)
      { 
        heading: "Class 11 Chapter 1: Some Basic Concepts of Chemistry", 
        codes: ["Set_23", "Set_24", "Set_25", "Set_26", "Set_27", "Chemistry_Set_5", "Chemistry_Set_6"] 
      },
      { 
        heading: "Class 11 Chapter 3: Classification of Elements and Periodicity in Properties", 
        codes: ["Set_23", "Set_24", "Set_25", "Set_26", "Set_27"] 
      },
      { 
        heading: "Class 11 Chapter 4: Chemical Bonding and Molecular Structure", 
        codes: ["Set_23", "Set_24", "Set_25", "Set_26", "Set_27"] 
      },
      { 
        heading: "Class 11 Chapter 7: Redox Reactions", 
        codes: ["Set_23", "Set_24", "Set_25", "Set_26", "Set_27"] 
      },
      { 
        heading: "Class 11 Chapter 10: The s-Block Elements", 
        codes: ["Set_23"] 
      },
      { 
        heading: "Class 11 Chapter 11: The p-Block Elements", 
        codes: ["Set_24", "Set_26", "Set_27"] 
      },
      { 
        heading: "Class 11 Chapter 13: Hydrocarbons", 
        codes: ["Set_23", "Set_25"] 
      },
      { 
        heading: "Class 12 Chapter 4: Chemical Kinetics", 
        codes: ["Set_23", "Set_24", "Set_25", "Set_26", "Set_27"] 
      },
      { 
        heading: "Class 12 Chapter 7: The p-Block Elements", 
        codes: ["Set_23", "Set_24", "Set_25", "Set_26", "Set_27"] 
      },
      { 
        heading: "Class 12 Chapter 8: The d- and f-Block Elements", 
        codes: ["Set_23"] 
      },

      // Physics (Class 11 and Class 12)
      { 
        heading: "Class 11 Chapter 3: Motion in a Straight Line", 
        codes: ["415", "416", "417", "418", "419", "420", "421", "422", "423", "424", "425", "426", "427", "428", "429", "430", "431", "432", "433", "434"] 
      },
      { 
        heading: "Class 11 Chapter 4: Motion in a Plane", 
        codes: ["400", "401", "402", "403", "404", "405", "406", "407", "408", "409", "410", "411", "412", "413", "414"] 
      },
      { 
        heading: "Class 11 Chapter 5: Laws of Motion", 
        codes: ["501", "502", "503", "504", "505", "506", "507", "508"] 
      },
      { 
        heading: "Class 11 Chapter 5: Motion of System of Particles and Rigid Body", 
        codes: ["513"] 
      },
      { 
        heading: "Class 11 Chapter 6: Work, Energy, and Power", 
        codes: ["601", "602", "603", "604", "605", "606", "607", "608", "609", "610", "615", "616", "617", "618", "619", "620", "621", "622", "623", "624"] 
      },
      { 
        heading: "Class 11 Chapter 7: Gravitation", 
        codes: ["514"] 
      },
      { 
        heading: "Class 11 Chapter 8: Properties of Bulk Matter", 
        codes: ["515"] 
      },
      { 
        heading: "Class 11 Chapter 9: Thermodynamics", 
        codes: ["516", "800", "801"] 
      },
      { 
        heading: "Class 11 Chapter 10: Behaviour of Perfect Gas and Kinetic Theory", 
        codes: ["517", "802"] 
      },
      { 
        heading: "Class 11 Chapter 11: Oscillations and Waves", 
        codes: ["518", "803"] 
      },
      { 
        heading: "Class 12 Chapter 1: Electrostatics", 
        codes: ["804"] 
      },
      { 
        heading: "Class 12 Chapter 2: Current Electricity", 
        codes: ["805"] 
      },
      { 
        heading: "Class 12 Chapter 3: Magnetic Effects of Current and Magnetism", 
        codes: ["806"] 
      },
      { 
        heading: "Class 12 Chapter 4: Electromagnetic Induction", 
        codes: ["569", "807"] 
      },
      { 
        heading: "Class 12 Chapter 5: Alternating Currents", 
        codes: ["570", "808"] 
      },
      { 
        heading: "Class 12 Chapter 6: Electromagnetic Waves", 
        codes: ["571", "809", "930"] 
      },
      { 
        heading: "Class 12 Chapter 7: Ray Optics and Optical Instruments", 
        codes: ["572", "810", "931"] 
      },
      { 
        heading: "Class 12 Chapter 8: Wave Optics", 
        codes: ["573", "811", "932"] 
      },
      { 
        heading: "Class 12 Chapter 9: Dual Nature of Matter and Radiation", 
        codes: ["574", "812", "933"] 
      },
      { 
        heading: "Class 12 Chapter 10: Atoms", 
        codes: ["575", "813", "934"] 
      },
      { 
        heading: "Class 12 Chapter 11: Nuclei", 
        codes: ["935", "937", "938", "939", "940", "941", "945", "946", "947", "948", "949"] 
      },
      { 
        heading: "Class 12 Chapter 12: Electronic Devices", 
        codes: ["576", "814"] 
      },
      { 
        heading: "Class 12 Chapter 13: Semiconductor Electronics", 
        codes: ["936"] 
      },
      { 
        heading: "Class 12 Chapter 4: Moving Charges and Magnetism", 
        codes: ["942", "944"] 
      },
      { 
        heading: "Class 12 Chapter 5: Magnetism and Matter", 
        codes: ["943"] 
      }
    ];

    function displayTestCodes() {
      const testCodesDiv = document.getElementById("testCodes");
      if (!testCodesDiv) {
        console.error("Element with ID 'testCodes' not found.");
        return;
      }
      testGroups.forEach(group => {
        const headingElement = document.createElement("h3");
        headingElement.textContent = group.heading;
        headingElement.classList.add("chapter-heading");
        testCodesDiv.appendChild(headingElement);
        group.codes.forEach(code => {
          const checkbox = document.createElement("input");
          checkbox.type = "checkbox";
          checkbox.value = code;
          checkbox.id = code;
          checkbox.addEventListener('change', function() {
            const checkedCount = document.querySelectorAll("#testCodes input[type='checkbox']:checked").length;
            if (checkedCount > 12) {
              alert("You cannot select more than 12 test codes.");
              this.checked = false;
            }
          });
          const label = document.createElement("label");
          label.htmlFor = code;
          label.textContent = code;
          testCodesDiv.appendChild(checkbox);
          testCodesDiv.appendChild(label);
        });
      });
    }

    function saveSelectedCodes() {
      const selectedCodes = [];
      const checkboxes = document.querySelectorAll("#testCodes input[type='checkbox']:checked");
      checkboxes.forEach(checkbox => selectedCodes.push(checkbox.value));
      console.log("Saving codes:", selectedCodes);
      if (selectedCodes.length === 0) {
        alert("Please select at least one test code before proceeding.");
        return;
      }
      try {
        sessionStorage.setItem("selectedCodes", JSON.stringify(selectedCodes));
        console.log("Saved to sessionStorage:", sessionStorage.getItem("selectedCodes"));
        window.location.href = "test.html";
      } catch (e) {
        alert("Error saving selections. Please ensure your browser allows session storage.");
        console.error("Session storage error:", e);
      }
    }

    function clearSelections() {
      const checkboxes = document.querySelectorAll("#testCodes input[type='checkbox']");
      checkboxes.forEach(checkbox => {
        checkbox.checked = false;
      });
    }

    // Ad configurations for general ads (refresh every 5 seconds)
    const adConfigs = [
      {
        slotId: 'container-edeaa5234b144caee3318cf798e427a1',
        key: 'edeaa5234b144caee3318cf798e427a1',
        network: 'profitableratecpm'
      },
      {
        slotId: 'ad-container-1',
        key: '7651f53528438eccf587c285b3818b43',
        format: 'iframe',
        height: 50,
        width: 320,
        params: {},
        network: 'highperformanceformat'
      },
      {
        slotId: 'ad-container-2',
        key: '650b4b7c68b9e7f869175d7812827abd',
        format: 'iframe',
        height: 60,
        width: 468,
        params: {},
        network: 'highperformanceformat'
      },
      {
        slotId: 'ad-container-3',
        key: '83b113682101cfeedd8174102f412d6f',
        format: 'iframe',
        height: 300,
        width: 160,
        params: {},
        network: 'highperformanceformat'
      },
      {
        slotId: 'ad-container-4',
        key: '0d582796d01fc00d004acc5e06194b52',
        format: 'iframe',
        height: 600,
        width: 160,
        params: {},
        network: 'highperformanceformat'
      },
      {
        slotId: 'ad-container-5',
        key: 'aba8d4cd09a12eca86e37fa21c9cbfc0',
        format: 'iframe',
        height: 90,
        width: 728,
        params: {},
        network: 'highperformanceformat'
      },
      {
        slotId: 'ad-container-6',
        key: '74caf817ed5b917ef91f9c30f92ac327',
        format: 'iframe',
        height: 250,
        width: 300,
        params: {},
        network: 'highperformanceformat'
      }
    ];

    let adCount = 0;
    const maxAds = 20; // Maximum number of ad cycles
    const adInterval = 5 * 1000; // 5 seconds for general ads
    const loadDelay = 500; // 500ms delay between each ad load

    function loadHighPerformanceAd(config, callback) {
      const adSlot = document.getElementById(config.slotId);
      if (!adSlot) {
        console.error(`Ad slot ${config.slotId} not found at ${new Date().toISOString()}`);
        if (callback) callback();
        return;
      }

      adSlot.innerHTML = '';
      adSlot.classList.add('active');

      const iframe = document.createElement('iframe');
      iframe.width = config.width;
      iframe.height = config.height;
      iframe.frameBorder = '0';
      iframe.scrolling = 'no';

      const adUrl = `//www.highperformanceformat.com/${config.key}/invoke.js`;
      const script = document.createElement('script');
      script.type = 'text/javascript';
      script.text = `atOptions = ${JSON.stringify({
        key: config.key,
        format: config.format,
        height: config.height,
        width: config.width,
        params: config.params
      })};`;

      adSlot.appendChild(script);
      adSlot.appendChild(iframe);
      const invokeScript = document.createElement('script');
      invokeScript.src = adUrl;
      invokeScript.onerror = () => {
        console.error(`Failed to load ad in ${config.slotId} (highperformanceformat) at ${new Date().toISOString()}`);
        adSlot.innerHTML = `<p>Failed to load ad in ${config.slotId}</p>`;
        if (callback) callback();
      };
      invokeScript.onload = () => {
        console.log(`Ad loaded in ${config.slotId} (highperformanceformat) at ${new Date().toISOString()}`);
        if (callback) callback();
      };
      adSlot.appendChild(invokeScript);
    }

    function loadProfitRateAd(config, callback) {
      const adSlot = document.getElementById(config.slotId);
      if (!adSlot) {
        console.error(`Ad slot ${config.slotId} not found at ${new Date().toISOString()}`);
        if (callback) callback();
        return;
      }

      adSlot.innerHTML = '';
      adSlot.classList.add('active');

      const script = document.createElement('script');
      script.type = 'text/javascript';
      script.src = `//pl26683677.profitableratecpm.com/${config.key}/invoke.js`;
      script.async = true;
      script.onerror = () => {
        console.error(`Failed to load ad in ${config.slotId} (profitableratecpm) at ${new Date().toISOString()}`);
        adSlot.innerHTML = `<p>Failed to load ad in ${config.slotId}</p>`;
        if (callback) callback();
      };
      script.onload = () => {
        console.log(`Ad loaded in ${config.slotId} (profitableratecpm) at ${new Date().toISOString()}`);
        if (callback) callback();
      };
      adSlot.appendChild(script);
    }

    function loadAd(config, callback) {
      if (config.network === 'highperformanceformat') {
        loadHighPerformanceAd(config, callback);
      } else if (config.network === 'profitableratecpm') {
        loadProfitRateAd(config, callback);
      }
    }

    function loadAdsWithDelay(configs, index = 0) {
      if (index >= configs.length) return;

      loadAd(configs[index], () => {
        setTimeout(() => loadAdsWithDelay(configs, index + 1), loadDelay);
      });
    }

    function displayNextAds() {
      if (adCount < maxAds) {
        console.log(`Loading ad set ${adCount + 1} at ${new Date().toISOString()}`);
        loadAdsWithDelay(adConfigs);
        adCount++;
      } else {
        console.log(`Ad sequence complete at ${new Date().toISOString()}`);
        clearInterval(adTimer);
        adConfigs.forEach(config => {
          const adSlot = document.getElementById(config.slotId);
          adSlot.innerHTML = '<p>Ad sequence complete.</p>';
          adSlot.classList.remove('active');
        });
      }
    }

    window.onload = function() {
      try {
        displayTestCodes();
      } catch (e) {
        console.error("Error initializing test codes:", e);
      }

      // Initial ad loads
      if (adConfigs.length > 0) {
        displayNextAds();
      }

      // Log all scripts to confirm ad scripts are loading
      const scripts = document.getElementsByTagName('script');
      console.log('All scripts on page at load:');
      for (let script of scripts) {
        if (script.src) {
          console.log(script.src);
        }
      }
    };

    // Refresh general ads every 5 seconds
    const adTimer = setInterval(displayNextAds, adInterval);

    console.log(`Page loaded at ${new Date().toISOString()}`);
  </script>
  <script type="text/javascript">
    aclib.runAutoTag({
        zoneId: '0cpphh1nh3',
    });
</script>

</body>
</html>
